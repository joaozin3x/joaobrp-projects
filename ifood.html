<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeliveryMax - Delivery de Comida</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        .slide-up {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .slide-up:hover {
            transform: translateY(-5px);
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-red-600 text-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-utensils text-2xl"></i>
                <h1 class="text-xl font-bold">DeliveryMax</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="locationBtn" class="flex items-center text-sm hover:text-red-100 transition-colors">
                    <i class="fas fa-map-marker-alt mr-1"></i>
                    <span>Alterar local</span>
                </button>
                <button id="cartBtn" class="relative hover:opacity-80 transition-opacity">
                    <i class="fas fa-shopping-cart text-xl"></i>
                    <span id="cartCount" class="absolute -top-2 -right-2 bg-yellow-400 text-red-700 rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- Search and Categories -->
        <section class="mb-8">
            <div class="relative mb-6">
                <input type="text" placeholder="Buscar restaurante ou comida..." class="w-full p-3 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-200">
                <i class="fas fa-search absolute left-3 top-3.5 text-gray-400"></i>
            </div>
            
            <div class="mb-4 flex justify-between items-center">
                <h2 class="text-xl font-bold text-gray-800">Categorias</h2>
                <button class="text-red-600 font-medium hover:text-red-800 transition-colors">Ver todas</button>
            </div>
            
            <div class="flex space-x-4 overflow-x-auto pb-2 hide-scrollbar">
                <button class="category-btn flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200" data-category="all">
                    <i class="fas fa-utensils mr-2"></i> Todas
                </button>
                <button class="category-btn flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200" data-category="pizza">
                    <i class="fas fa-pizza-slice mr-2"></i> Pizza
                </button>
                <button class="category-btn flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200" data-category="hamburger">
                    <i class="fas fa-hamburger mr-2"></i> Hambúrguer
                </button>
                <button class="category-btn flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200" data-category="sushi">
                    <i class="fas fa-fish mr-2"></i> Sushi
                </button>
                <button class="category-btn flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200" data-category="brazilian">
                    <i class="fas fa-drumstick-bite mr-2"></i> Brasileira
                </button>
                <button class="category-btn flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200" data-category="drinks">
                    <i class="fas fa-wine-glass-alt mr-2"></i> Bebidas
                </button>
            </div>
        </section>
        
        <!-- Restaurants Section -->
        <section id="restaurantsSection">
            <div class="mb-4 flex justify-between items-center">
                <h2 class="text-xl font-bold text-gray-800">Restaurantes próximos</h2>
                <button class="text-red-600 font-medium hover:text-red-800 transition-colors">Ver todos</button>
            </div>
            
            <div id="restaurantsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Restaurants will be loaded here -->
            </div>
        </section>
        
        <!-- Restaurant Menu Modal (Hidden by default) -->
        <div id="restaurantModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto hidden transition-opacity duration-300">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 scale-95 opacity-0" id="modalContent">
                    <div class="p-4 border-b sticky top-0 bg-white z-10">
                        <div class="flex justify-between items-center">
                            <h3 id="modalRestaurantName" class="text-xl font-bold"></h3>
                            <button id="closeModalBtn" class="text-gray-500 hover:text-gray-700 transition-colors">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-4 overflow-y-auto">
                        <div id="menuCategories" class="flex space-x-4 mb-4 overflow-x-auto pb-2 hide-scrollbar">
                            <!-- Categories will be loaded here -->
                        </div>
                        
                        <div id="menuItemsContainer">
                            <!-- Menu items will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Shopping Cart Sidebar (Hidden by default) -->
        <div id="cartSidebar" class="fixed inset-y-0 right-0 w-full sm:w-96 bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out z-50">
            <div class="h-full flex flex-col">
                <div class="p-4 border-b sticky top-0 bg-white z-10">
                    <div class="flex justify-between items-center">
                        <h3 class="text-xl font-bold">Meu Carrinho</h3>
                        <button id="closeCartBtn" class="text-gray-500 hover:text-gray-700 transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <p id="customerInfo" class="text-sm text-gray-600 mt-1 hidden">
                        <span class="font-medium">Cliente:</span> <span id="customerName">Zumira Xavier</span>
                    </p>
                </div>
                
                <div id="cartItemsContainer" class="flex-1 overflow-y-auto p-4">
                    <!-- Cart items will be loaded here -->
                    <div id="emptyCartMessage" class="flex flex-col items-center justify-center h-full text-center">
                        <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-4"></i>
                        <h4 class="text-lg font-medium text-gray-500">Seu carrinho está vazio</h4>
                        <p class="text-gray-400 mt-1">Adicione itens para continuar</p>
                    </div>
                </div>
                
                <div class="p-4 border-t bg-white">
                    <div class="mb-4">
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Subtotal</span>
                            <span id="subtotalPrice" class="font-medium">R$ 0,00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Taxa de entrega</span>
                            <span id="deliveryFee" class="font-medium">R$ 5,00</span>
                        </div>
                    </div>
                    <div class="flex justify-between items-center mb-4">
                        <span class="font-bold text-lg">Total</span>
                        <span id="totalPrice" class="font-bold text-xl text-red-600">R$ 5,00</span>
                    </div>
                    <button id="checkoutBtn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200" disabled>
                        Finalizar compra
                    </button>
                </div>
            </div>
        </div>

        <!-- Checkout Modal (Hidden by default) -->
        <div id="checkoutModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
            <div class="bg-white rounded-lg w-full max-w-md p-6 transform transition-all duration-300 scale-95 opacity-0" id="checkoutModalContent">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold">Confirmar Pedido</h3>
                    <button id="closeCheckoutModalBtn" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            
                <form id="checkoutForm">
                    <div class="mb-4">
                        <label for="deliveryAddress" class="block text-gray-700 mb-2">Endereço de Entrega</label>
                        <input type="text" id="deliveryAddress" class="w-full p-2 border border-gray-300 rounded focus:ring-red-500 focus:border-red-500" required>
                    </div>
                    
                    <div class="mb-4">
                        <label for="paymentMethod" class="block text-gray-700 mb-2">Forma de Pagamento</label>
                        <select id="paymentMethod" class="w-full p-2 border border-gray-300 rounded focus:ring-red-500 focus:border-red-500" required>
                            <option value="">Selecione...</option>
                            <option value="credit">Cartão de Crédito</option>
                            <option value="debit">Cartão de Débito</option>
                            <option value="pix">PIX</option>
                            <option value="cash">Dinheiro</option>
                        </select>
                    </div>
                    
                    <div class="flex justify-between items-center mb-4">
                        <span class="font-bold text-lg">Total</span>
                        <span id="checkoutTotalPrice" class="font-bold text-xl text-red-600">R$ 0,00</span>
                    </div>
                    
                    <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors">
                        Confirmar Pedido
                    </button>
                </form>
            </div>
        </div>
    </main>
    <!-- Footer -->
    <footer class="bg-gray-100 border-t">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h2 class="text-xl font-bold text-red-600 flex items-center space-x-2">
                        <i class="fas fa-utensils"></i>
                        <span>DeliveryMax</span>
                    </h2>
                    <p class="text-gray-600 text-sm mt-1">Comida rápida na palma da sua mão</p>
                </div>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-700 hover:text-red-600 transition-colors">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="text-gray-700 hover:text-red-600 transition-colors">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="text-gray-700 hover:text-red-600 transition-colors">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-200 text-center text-gray-500 text-sm">
                <p>© 2023 DeliveryMax. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample data for restaurants
        const restaurants = [
            {
                id: 1,
                name: "Pizzaria do Zé",
                category: "pizza",
                deliveryTime: "30-45 min",
                rating: 4.8,
                image: "https://images.unsplash.com/photo-1567443024551-f3e3aa361caa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",
                menu: {
                    categories: ["Pizzas", "Bebidas", "Sobremesas"],
                    items: [
                        {
                            id: 101,
                            name: "Pizza Margherita",
                            description: "Molho de tomate, mussarela, manjericão fresco",
                            price: 42.90,
                            category: "Pizzas"
                        },
                        {
                            id: 102,
                            name: "Pizza Pepperoni",
                            description: "Molho de tomate, mussarela, pepperoni e orégano",
                            price: 49.90,
                            category: "Pizzas"
                        },
                        {
                            id: 103,
                            name: "Refrigerante",
                            description: "350ml - Coca-Cola, Guaraná ou Sprite",
                            price: 8.00,
                            category: "Bebidas"
                        },
                        {
                            id: 104,
                            name: "Petit Gateau",
                            description: "Mini bolo de chocolate com sorvete de creme",
                            price: 18.90,
                            category: "Sobremesas"
                        }
                    ]
                }
            },
            {
                id: 2,
                name: "Burger House",
                category: "hamburger",
                deliveryTime: "25-40 min",
                rating: 4.7,
                image: "https://images.unsplash.com/photo-1512152272829-e3139592d56f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",
                menu: {
                    categories: ["Hambúrgueres", "Acompanhamentos", "Bebidas"],
                    items: [
                        {
                            id: 201,
                            name: "Hambúrguer Clássico",
                            description: "Pão brioche, carne 180g, queijo, alface e tomate",
                            price: 25.00,
                            category: "Hambúrgueres"
                        },
                        {
                            id: 202,
                            name: "Hambúrguer Bacon",
                            description: "Pão brioche, carne 180g, queijo, bacon crocante",
                            price: 29.90,
                            category: "Hambúrgueres"
                        },
                        {
                            id: 203,
                            name: "Batata Frita",
                            description: "Porção média com catsup",
                            price: 12.50,
                            category: "Acompanhamentos"
                        },
                        {
                            id: 204,
                            name: "Refrigerante",
                            description: "Lata 350ml - diversos sabores",
                            price: 8.00,
                            category: "Bebidas"
                        }
                    ]
                }
            },
            {
                id: 3,
                name: "Sushi Premium",
                category: "sushi",
                deliveryTime: "40-55 min",
                rating: 4.9,
                image: "https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80",
                menu: {
                    categories: ["Sushis", "Temakis", "Bebidas"],
                    items: [
                        {
                            id: 301,
                            name: "Sushi Variado",
                            description: "10 peças - 4 sushis diferentes",
                            price: 39.90,
                            category: "Sushis"
                        },
                        {
                            id: 302,
                            name: "Temaki Filadélfia",
                            description: "Salmão, cream cheese e cebolinha",
                            price: 22.90,
                            category: "Temakis"
                        },
                        {
                            id: 303,
                            name: "Água Mineral",
                            description: "Garrafa 500ml",
                            price: 5.00,
                            category: "Bebidas"
                        }
                    ]
                }
            },
            {
                id: 4,
                name: "Cantina Brasileira",
                category: "brazilian",
                deliveryTime: "35-50 min",
                rating: 4.5,
                image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1587&q=80",
                menu: {
                    categories: ["Pratos Principais", "Bebidas"],
                    items: [
                        {
                            id: 401,
                            name: "Feijoada Completa",
                            description: "Acompanha arroz, couve, farofa e laranja",
                            price: 38.90,
                            category: "Pratos Principais"
                        },
                        {
                            id: 402,
                            name: "Suco Natural",
                            description: "300ml - Laranja, manga ou maracujá",
                            price: 10.00,
                            category: "Bebidas"
                        }
                    ]
                }
            }
        ];

        // DOM elements
        const restaurantsContainer = document.getElementById('restaurantsContainer');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const restaurantModal = document.getElementById('restaurantModal');
        const modalContent = document.getElementById('modalContent');
        const modalRestaurantName = document.getElementById('modalRestaurantName');
        const menuCategories = document.getElementById('menuCategories');
        const menuItemsContainer = document.getElementById('menuItemsContainer');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const cartBtn = document.getElementById('cartBtn');
        const closeCartBtn = document.getElementById('closeCartBtn');
        const cartSidebar = document.getElementById('cartSidebar');
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const cartCount = document.getElementById('cartCount');
        const subtotalPrice = document.getElementById('subtotalPrice');
        const totalPrice = document.getElementById('totalPrice');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const customerInfo = document.getElementById('customerInfo');
        const checkoutModal = document.getElementById('checkoutModal');
        const checkoutModalContent = document.getElementById('checkoutModalContent');
        const closeCheckoutModalBtn = document.getElementById('closeCheckoutModalBtn');
        const checkoutForm = document.getElementById('checkoutForm');
        const checkoutTotalPrice = document.getElementById('checkoutTotalPrice');

        // Cart state
        let cart = JSON.parse(localStorage.getItem('deliveryMaxCart')) || [];
        const currentCustomer = "Zumira Xavier";

        // Load all restaurants when page loads
        document.addEventListener('DOMContentLoaded', () => {
            renderRestaurants(restaurants);
            updateCart();
            
            // Set default customer info (usually would come from auth system)
            customerInfo.classList.remove('hidden');
        });

        // Filter restaurants by category
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                
                // Remove active class from all buttons
                categoryBtns.forEach(b => b.classList.remove('bg-red-600', 'text-white', 'border-red-600'));
                
                // Add active class to clicked button
                if (category !== 'all') {
                    btn.classList.add('bg-red-600', 'text-white', 'border-red-600');
                }
                
                if (category === 'all') {
                    renderRestaurants(restaurants);
                } else {
                    const filteredRestaurants = restaurants.filter(restaurant => restaurant.category === category);
                    renderRestaurants(filteredRestaurants);
                }
            });
        });

        // Render restaurants
        function renderRestaurants(restaurantsToRender) {
            restaurantsContainer.innerHTML = '';
            
            restaurantsToRender.forEach(restaurant => {
                const restaurantCard = document.createElement('div');
                restaurantCard.className = 'restaurant-card bg-white rounded-lg overflow-hidden shadow-md transition-all duration-300 cursor-pointer slide-up hover:shadow-lg';
                restaurantCard.innerHTML = `
                    <div class="relative h-40">
                        <img src="${restaurant.image}" alt="${restaurant.name}" class="w-full h-full object-cover">
                        <div class="absolute bottom-2 left-2 flex items-center bg-white bg-opacity-90 rounded-full px-2 py-1">
                            <i class="fas fa-star text-yellow-500 mr-1"></i>
                            <span class="font-bold text-sm">${restaurant.rating}</span>
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">${restaurant.name}</h3>
                        <p class="text-gray-600 text-sm flex items-center">
                            <i class="fas fa-clock mr-1"></i> ${restaurant.deliveryTime}
                        </p>
                    </div>
                `;
                
                restaurantCard.addEventListener('click', () => openRestaurantModal(restaurant));
                restaurantsContainer.appendChild(restaurantCard);
            });
        }

        // Open restaurant modal with menu
        function openRestaurantModal(restaurant) {
            modalRestaurantName.textContent = restaurant.name;
            
            // Render categories buttons
            menuCategories.innerHTML = '';
            restaurant.menu.categories.forEach(category => {
                const categoryBtn = document.createElement('button');
                categoryBtn.className = 'flex-shrink-0 px-4 py-2 rounded-full bg-white border border-gray-200 hover:bg-red-50 hover:border-red-200 hover:text-red-600 focus:outline-none focus:ring-1 focus:ring-red-500 active:bg-red-100 transition-colors duration-200';
                categoryBtn.textContent = category;
                categoryBtn.addEventListener('click', () => {
                    // Filter items by category
                    const categoryItems = restaurant.menu.items.filter(item => item.category === category);
                    renderMenuItems(categoryItems);
                });
                menuCategories.appendChild(categoryBtn);
            });
            
            // Render all items initially
            renderMenuItems(restaurant.menu.items);
            
            // Show modal with animation
            restaurantModal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
            document.body.style.overflow = 'hidden';
        }

        // Render menu items
        function renderMenuItems(items) {
            menuItemsContainer.innerHTML = '';
            
            items.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item p-4 border-b last:border-b-0 transition-colors duration-200 fade-in';
                menuItem.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-1 mr-4">
                            <h4 class="font-bold">${item.name}</h4>
                            <p class="text-sm text-gray-600 mt-1">${item.description}</p>
                            <p class="text-red-600 font-bold mt-2">R$ ${item.price.toFixed(2)}</p>
                        </div>
                        <button class="add-to-cart-btn bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded-lg transition-colors duration-200" data-id="${item.id}">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                `;
                
                const addBtn = menuItem.querySelector('.add-to-cart-btn');
                addBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    addToCart(item);
                });
                
                menuItemsContainer.appendChild(menuItem);
            });
        }

        // Close restaurant modal
        closeModalBtn.addEventListener('click', () => {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                restaurantModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }, 300);
        });

        // Open cart sidebar
        cartBtn.addEventListener('click', () => {
            cartSidebar.style.transform = 'translateX(0)';
            document.body.style.overflow = 'hidden';
        });

        // Close cart sidebar
        closeCartBtn.addEventListener('click', () => {
            cartSidebar.style.transform = 'translateX(100%)';
            document.body.style.overflow = 'auto';
        });

        // Add item to cart
        function addToCart(item) {
            // Check if item already in cart
            const existingItem = cart.find(cartItem => cartItem.id === item.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...item,
                    quantity: 1
                });
            }
            
            // Save to localStorage
            localStorage.setItem('deliveryMaxCart', JSON.stringify(cart));
            
            updateCart();
            
            // Show success feedback
            const addedFeedback = document.createElement('div');
            addedFeedback.className = 'fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg fade-in';
            addedFeedback.innerHTML = `
                <i class="fas fa-check-circle mr-2"></i>
                <span>Item adicionado ao carrinho!</span>
            `;
            document.body.appendChild(addedFeedback);
            
            setTimeout(() => {
                addedFeedback.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => addedFeedback.remove(), 300);
            }, 2000);
        }

        // Update cart UI
        function updateCart() {
            // Update cart count
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // Update cart items
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
                checkoutBtn.disabled = true;
            } else {
                emptyCartMessage.classList.add('hidden');
                checkoutBtn.disabled = false;
                
                cart.forEach(item => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item mb-4 pb-4 border-b last:border-b-0 last:mb-0 fade-in';
                    cartItem.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <h4 class="font-bold">${item.name}</h4>
                                <p class="text-sm text-gray-600">R$ ${item.price.toFixed(2)}</p>
                            </div>
                            <div class="flex items-center">
                                <button class="decrease-quantity bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-1 px-3 rounded-lg transition-colors" data-id="${item.id}">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span class="mx-3 font-medium">${item.quantity}</span>
                                <button class="increase-quantity bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-1 px-3 rounded-lg transition-colors" data-id="${item.id}">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="mt-2 flex justify-between">
                            <button class="remove-item text-red-600 text-sm hover:text-red-800 transition-colors" data-id="${item.id}">
                                <i class="fas fa-trash-alt mr-1"></i> Remover
                            </button>
                            <span class="font-bold">R$ ${(item.price * item.quantity).toFixed(2)}</span>
                        </div>
                    `;
                    
                    // Add event listeners for quantity controls
                    const decreaseBtn = cartItem.querySelector('.decrease-quantity');
                    const increaseBtn = cartItem.querySelector('.increase-quantity');
                    const removeBtn = cartItem.querySelector('.remove-item');
                    
                    decreaseBtn.addEventListener('click', () => updateCartItemQuantity(item.id, -1));
                    increaseBtn.addEventListener('click', () => updateCartItemQuantity(item.id, 1));
                    removeBtn.addEventListener('click', () => removeCartItem(item.id));
                    
                    cartItemsContainer.appendChild(cartItem);
                });
            }
            
            // Update totals
            updateCartTotals();
        }

        // Update cart item quantity
        function updateCartItemQuantity(itemId, change) {
            const itemIndex = cart.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                cart[itemIndex].quantity += change;
                
                // Remove item if quantity reaches 0
                if (cart[itemIndex].quantity <= 0) {
                    cart.splice(itemIndex, 1);
                }
                
                // Save to localStorage
                localStorage.setItem('deliveryMaxCart', JSON.stringify(cart));
                
                updateCart();
            }
        }

        // Remove cart item
        function removeCartItem(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            
            // Save to localStorage
            localStorage.setItem('deliveryMaxCart', JSON.stringify(cart));
            
            updateCart();
        }

        // Update cart totals
        function updateCartTotals() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const deliveryFee = 5.00; // Fixed delivery fee
            const total = subtotal + deliveryFee;
            
            subtotalPrice.textContent = `R$ ${subtotal.toFixed(2)}`;
            totalPrice.textContent = `R$ ${total.toFixed(2)}`;
            checkoutTotalPrice.textContent = `R$ ${total.toFixed(2)}`;
        }

        // Checkout button click
        checkoutBtn.addEventListener('click', () => {
            // Show checkout modal with animation
            checkoutModal.classList.remove('hidden');
            setTimeout(() => {
                checkoutModalContent.classList.remove('scale-95', 'opacity-0');
                checkoutModalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        });

        // Close checkout modal
        closeCheckoutModalBtn.addEventListener('click', () => {
            checkoutModalContent.classList.remove('scale-100', 'opacity-100');
            checkoutModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                checkoutModal.classList.add('hidden');
            }, 300);
        });

        // Checkout form submission
        checkoutForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const deliveryAddress = document.getElementById('deliveryAddress').value;
            const paymentMethod = document.getElementById('paymentMethod').value;
            
            // In a real app, this would send the order to the server
            alert(`Pedido confirmado!\n\nEndereço: ${deliveryAddress}\nPagamento: ${getPaymentMethodName(paymentMethod)}\nTotal: ${totalPrice.textContent}\n\nObrigado, ${currentCustomer}!`);
            
            // Clear cart after checkout
            cart = [];
            localStorage.removeItem('deliveryMaxCart');
            updateCart();
            
            // Close modals
            checkoutModalContent.classList.remove('scale-100', 'opacity-100');
            checkoutModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                checkoutModal.classList.add('hidden');
                cartSidebar.style.transform = 'translateX(100%)';
                document.body.style.overflow = 'auto';
            }, 300);
        });

        // Helper function to get payment method name
        function getPaymentMethodName(method) {
            switch(method) {
                case 'credit': return 'Cartão de Crédito';
                case 'debit': return 'Cartão de Débito';
                case 'pix': return 'PIX';
                case 'cash': return 'Dinheiro';
                default: return method;
            }
        }
    </script>
</body>
</html>